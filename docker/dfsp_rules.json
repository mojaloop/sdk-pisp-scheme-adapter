[
  {
    "ruleId": 1,
    "description": "Successfully accepting request",
    "conditions": {
      "all": [
        {
          "fact": "path",
          "operator": "equal",
          "value": "/authorizations"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "POST"
        }
      ]
    },
    "event": {
      "type": "FIXED_CALLBACK",
      "params": {
        "statusCode": 202,
        "body": ""
      }
    }
  },
  {
    "ruleId": 2,
    "description": "Returns list of user Accounts",
    "conditions": {
      "all": [
        {
          "fact": "path",
          "operator": "equal",
          "value": "/accounts/username1234"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "GET"
        }
      ]
    },
    "event": {
      "type": "FIXED_CALLBACK",
      "params": {
        "statusCode": 200,
        "body": [
          {
            "accountNickname": "dfspa.user.nickname1",
            "id": "dfspa.username.1234",
            "currency": "ZAR"
          },
          {
            "accountNickname": "dfspa.user.nickname2",
            "id": "dfspa.username.5678",
            "currency": "USD"
          }
        ]
      }
    }
  },
  {
    "ruleId": 3,
    "description": "verify received authorization",
    "conditions": {
      "all": [
        {
          "fact": "path",
          "operator": "equal",
          "value": "/verify-authorization"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "POST"
        }
      ]
    },
    "event": {
      "type": "FIXED_CALLBACK",
      "params": {
        "statusCode": 200,
        "body": {
          "isValid": true
        }
      }
    }
  },
  {
    "ruleId": 4,
    "description": "verify received thirdparty transaction request",
    "conditions": {
      "all": [
        {
          "fact": "path",
          "operator": "equal",
          "value": "/validate-thirdparty-transaction-request"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "POST"
        }
      ]
    },
    "event": {
      "type": "FIXED_CALLBACK",
      "params": {
        "statusCode": 200,
        "body": {
          "isValid": true
        }
      }
    }
  },
  {
    "ruleId": 5,
    "description": "DFSP responds to validate consent request successfully and replies is valid and wants WEB channel authentication",
    "conditions": {
      "all": [
        {
          "fact": "body",
          "operator": "equal",
          "value": "997c89f4-053c-4283-bfec-45a1a0a28fba",
          "path": "consentRequestId"
        },
        {
          "fact": "path",
          "operator": "equal",
          "value": "/validateConsentRequests"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "POST"
        }
      ]
    },
    "event": {
      "type": "FIXED_CALLBACK",
      "params": {
        "statusCode": 200,
        "body": {
          "isValid": true,
          "data": {
            "authChannels": ["WEB"],
            "authUri": "dfspa.com/authorize?consentRequestId=997c89f4-053c-4283-bfec-45a1a0a28fba"
          }
        }
      }
    }
  },
  {
    "ruleId": 6,
    "description": "DFSP responds to validate consent request successfully and replies is valid and wants OTP channel authentication",
    "conditions": {
      "all": [
        {
          "fact": "body",
          "operator": "equal",
          "value": "997c89f4-053c-4283-bfec-45a1a0a28fbb",
          "path": "consentRequestId"
        },
        {
          "fact": "path",
          "operator": "equal",
          "value": "/validateConsentRequests"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "POST"
        }
      ]
    },
    "event": {
      "type": "FIXED_CALLBACK",
      "params": {
        "statusCode": 200,
        "body": {
          "isValid": true,
          "data": {
            "authChannels": ["OTP"],
            "authUri": ""
          }
        }
      }
    }
  },
  {
    "ruleId": 7,
    "description": "DFSP responds to validate consent request successfully and replies consent request not valid",
    "conditions": {
      "all": [
        {
          "fact": "body",
          "operator": "equal",
          "value": "997c89f4-053c-4283-bfec-45a1a0a28fbc",
          "path": "consentRequestId"
        },
        {
          "fact": "path",
          "operator": "equal",
          "value": "/validateConsentRequests"
        },
        {
          "fact": "method",
          "operator": "equal",
          "value": "POST"
        }
      ]
    },
    "event": {
      "type": "FIXED_CALLBACK",
      "params": {
        "statusCode": 200,
        "body": {
          "isValid": false
        }
      }
    }
  }
]
